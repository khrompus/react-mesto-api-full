{"version":3,"sources":["images/logo.svg","components/NavBar.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/failed.svg","components/InfoToolTipPopup.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["NavBar","props","className","isLoggedIn","userInfo","email","to","redirect","onClick","onRedirect","text","Header","src","logo","alt","Footer","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","onDeleteCard","type","onCardLike","length","Main","onEditAvatar","avatar","id","onEditProfile","about","onAddPlace","cards","map","ImagePopup","close","api","baseUrl","authorization","this","_baseUrl","_authorization","res","ok","json","Promise","reject","Error","status","description","fetch","method","headers","body","JSON","stringify","then","_parseResponse","cardId","PopupWithForm","activePopup","isOpen","onClosePopup","title","onSubmit","idForm","noValidate","children","buttonText","EditProfilePopup","React","useState","setName","setDescription","useEffect","e","preventDefault","onUpdateUser","onClose","placeholder","onChange","target","value","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","pattern","AddPlacePopup","placeNameRef","linkRef","Login","onLogin","password","loginData","setLoginData","handleChange","Register","onRegister","data","setData","ProtectedRoute","InfoToolTipPopup","isRegistered","success","failed","BASE_URL","parseResponse","App","setCards","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopup","isEditAvatarPopupOpen","setEditAvatarPopup","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","isAddPlacePopupOpen","setAddPlacePopup","selectedCard","setSelectedCard","setIsRegistered","setIsLoggedIn","setUserInfo","closeAllPopups","handleTokenCheck","localStorage","getItem","jwt","token","history","push","catch","err","console","log","useHistory","getUser","getCards","Provider","path","setItem","auth","removeItem","deleteCard","filter","item","likeCardDelete","newCard","state","c","likeCard","sendProfile","userData","changeAvatar","cardData","sendCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.093f93b8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6129e9de.svg\";","import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nexport default function NavBar(props) {\r\n    return (\r\n        <div className=\"navigate\">\r\n            <p className={props.isLoggedIn ? 'navigate__title' : \"navigate__title_hidden\"}>\r\n                {props.userInfo ? props.userInfo.email : ''}\r\n            </p>\r\n            <Link to={props.redirect}\r\n                  className=\"navigate__link\"\r\n                  onClick={props.onRedirect}>\r\n                {props.text}\r\n            </Link>\r\n\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport logo from \"../images/logo.svg\"\r\nimport NavBar from \"./NavBar\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <Link to=\"/\">\r\n                <img src={logo} alt=\"Место\" className=\"header__logo\"/>\r\n            </Link>\r\n\r\n            <NavBar redirect={props.redirect}\r\n                    isLoggedIn={props.isLoggedIn}\r\n                    userInfo={props.userInfo}\r\n                    onRedirect={props.onRedirect}\r\n                    text={props.text}/>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import {createContext} from 'react'\r\nexport const CurrentUserContext = createContext()","import {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport React from 'react'\r\nimport {useContext} from 'react'\r\n\r\nexport default function Card(props) {\r\n    const currentUser = useContext(CurrentUserContext)\r\n    const isOwn = props.card.owner._id === currentUser._id\r\n    const cardDeleteButtonClassName = (\r\n        `${isOwn ? 'grid__delete-btn' : 'grid__delete-btn_disable'}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (`${isLiked ? 'grid__like_active' : 'grid__like'}`);\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleDeleteCard() {\r\n        props.onDeleteCard(props.card)\r\n    }\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid__items\">\r\n            <img src={props.card.link} alt={props.card.name} onClick={handleClick} className=\"grid__image\"/>\r\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteCard} type=\"button\"/>\r\n            <div className=\"grid__text-group\">\r\n                <h2 className=\"grid__text\">{props.card.name}</h2>\r\n                <div className=\"grid__element-group\">\r\n                    <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName}/>\r\n                    <p className=\"grid__number-like\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {useContext} from 'react'\r\nimport Card from \"./Card\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n    const currentUser = useContext(CurrentUserContext)\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <button type=\"button\" className=\"profile__avatar-btn\" onClick={props.onEditAvatar}>\r\n                    <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\"/>\r\n                </button>\r\n                <div className=\"profile__container\">\r\n                    <div className=\"profile__info\">\r\n                        <div className=\"profile__name\">\r\n                            <h1 className=\"profile__title\" id=\"some\">{currentUser.name}</h1>\r\n                            <button className=\"profile__button-edit\" type=\"button\" onClick={props.onEditProfile}/>\r\n                        </div>\r\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    </div>\r\n                    <button className=\"profile__button-add\" type=\"button\" onClick={props.onAddPlace}/>\r\n                </div>\r\n            </section>\r\n            <section className=\"grid\">\r\n                {props.cards.map(card => (<Card key={card._id} onDeleteCard={props.onDeleteCard} onCardLike={props.onCardLike} onCardClick={props.onCardClick} card={card}/>))}\r\n            </section>\r\n        </main>\r\n    )\r\n\r\n}\r\n\r\nexport default Main","import React from \"react\";\r\n\r\nfunction ImagePopup({card, close}) {\r\n\r\n    return(\r\n        <section className={`popup ${card && 'popup_active'}`} id=\"popupImage\">\r\n            <div className=\"popup__container-image\">\r\n                <button className=\"popup__exit-btn popup__image-exit-btn\" type=\"button\" onClick={close} />\r\n                <img className=\"popup__image\" src={card?.link} alt={card?.name}/>\r\n                <p className=\"popup__image-text\">{card?.name} </p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\nexport default ImagePopup","class Api {\r\n    constructor({baseUrl, authorization}) {\r\n        this._baseUrl = baseUrl;\r\n        this._authorization = authorization;\r\n    }\r\n    _parseResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Произошла ошибка со статус-кодом ${res.status}`));\r\n    }\r\n    sendProfile({name, description}) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: `${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: description\r\n            })\r\n        })\r\n            .then(res => this._parseResponse(res))\r\n    }\r\n    sendCard({name, link}) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: `${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            }, body:JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n            .then(res => this._parseResponse(res));\r\n    }\r\n    getUser() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => this._parseResponse(res));\r\n    }\r\n    getCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => this._parseResponse(res));\r\n    }\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => this._parseResponse(res));\r\n    }\r\n\r\n    changeAvatar({avatar}) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: `${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n            .then(res => this._parseResponse(res));\r\n    }\r\n\r\n\r\n    likeCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                authorization: `${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => this._parseResponse(res));\r\n    }\r\n    likeCardDelete(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: `${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => this._parseResponse(res));\r\n    }\r\n}\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n    authorization: 'f0422778-420b-41b4-a52e-ffa4edcaf604'\r\n})\r\nexport default api\r\n","import React from \"react\";\r\n\r\n\r\nfunction PopupWithForm(props) {\r\n    let activePopup = '';\r\n    if (props.isOpen){\r\n        activePopup = 'popup_active'\r\n    }\r\n    else {\r\n        activePopup = ''\r\n    }\r\nreturn(\r\n    <section className={`popup ${activePopup}`} id={props.id}>\r\n        <div className=\"popup__container\">\r\n            <button className=\"popup__exit-btn\" onClick={props.onClosePopup} type=\"button\"/>\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n            <form className=\"popup__form\" onSubmit={props.onSubmit} name={props.name} id={props.idForm} noValidate>\r\n                {props.children}\r\n                <button className=\"popup__submit-btn\" type=\"submit\" name=\"firstNameInfo\">{props.buttonText}</button>\r\n\r\n            </form>\r\n        </div>\r\n    </section>\r\n)\r\n}\r\nexport default PopupWithForm","import PopupWithForm from \"./PopupWithForm\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport {useState} from 'react'\r\nimport React from \"react\";\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    const [name, setName] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser , props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            description,\r\n        });\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText='Сохранить' name=\"popupEdit\" onClosePopup={props.onClose}\r\n                       isOpen={props.isOpen}\r\n                       id=\"popupEdit\"\r\n                       title=\"Редактировать профиль\" idForm=\"editForm\">\r\n            <input placeholder=\"Имя\" onChange={handleChangeName} value={name || ''}\r\n                   className=\"popup__input popup__input_type_first-name\" id=\"firstName\"\r\n                   type=\"text\"\r\n                   name=\"name\" required minLength=\"2\" maxLength=\"40\"/>\r\n            <span className=\"popup__input-error firstName-error\"/>\r\n            <input placeholder=\"О себе\" onChange={handleChangeDescription} value={description || ''}\r\n                   className=\"popup__input popup__input_type_about-me\" type=\"text\"\r\n                   id=\"aboutMe\"\r\n                   name=\"description\" required minLength=\"2\" maxLength=\"200\"/>\r\n            <span className=\"popup__input-error aboutMe-error\"/>\r\n        </PopupWithForm>\r\n\r\n    )\r\n\r\n}\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef('')\r\n    function handleSubmit(e) {\r\n    e.preventDefault()\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\nreturn(\r\n    <PopupWithForm onSubmit={handleSubmit} buttonText='Сохранить' name=\"newImage\" onClosePopup={props.onClose} isOpen={props.isOpen} id=\"newImage\"\r\n                   title=\"Обновить аватар\" idForm=\"newAvatar\">\r\n        <input ref={avatarRef} placeholder=\"Ссылка на фото\" className=\"popup__input\"\r\n               id=\"newNameInput\" type=\"url\" name=\"link\" pattern=\"https://.*\" required/>\r\n        <span className=\"popup__input-error newNameInput-error\"/>\r\n    </PopupWithForm>\r\n)\r\n}\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React, {useRef} from \"react\";\r\nexport default function AddPlacePopup(props) {\r\n    const placeNameRef = useRef('')\r\n    const linkRef = useRef('')\r\n    function handleSubmit(e) {\r\n    e.preventDefault()\r\n        props.onAddPlace({\r\n            name: placeNameRef.current.value,\r\n            link: linkRef.current.value\r\n        })\r\n    }\r\nreturn(\r\n    <PopupWithForm onSubmit={handleSubmit} buttonText='Создать' name=\"popupAddCard\" onClosePopup={props.onClose} isOpen={props.isOpen}\r\n                   id=\"popupAddCard\" title=\"Новое Место\" idForm=\"addCardForm\">\r\n        <input placeholder=\"Новое место\"\r\n               ref={placeNameRef}\r\n               className=\"popup__input popup__input_add-card popup__input_type_image-name\"\r\n               type=\"text\" name=\"name\" id=\"newMesto\" required minLength=\"2\" maxLength=\"30\"/>\r\n        <span className=\"popup__input-error newMesto-error\"/>\r\n        <input ref={linkRef} placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_type_link\"\r\n               id=\"urlLink\" type=\"url\"\r\n               name=\"link\" pattern=\"https://.*\" required/>\r\n        <span className=\"popup__input-error urlLink-error\"/>\r\n\r\n    </PopupWithForm>\r\n)\r\n}\r\n","import React, {useState} from 'react'\r\n\r\nexport default function Login({onLogin}) {\r\n    const [loginData, setLoginData] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    function handleChange(e) {\r\n        const {name, value} = e.target\r\n        setLoginData({\r\n            ...loginData,\r\n            [name]: value\r\n        })\r\n\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        onLogin(loginData)\r\n    }\r\n\r\n    return (\r\n        <section className=\"login\">\r\n            <h1 className=\"login__title\">Вход</h1>\r\n            <div className=\"login__container\">\r\n                <form name=\"login\" onSubmit={handleSubmit} className=\"login__form\">\r\n                    <input id=\"email\" name=\"email\" onChange={handleChange} value={loginData.email} placeholder=\"Email\"\r\n                           type=\"email\" className=\"login__input\"/>\r\n                    <input id=\"password\" name=\"password\" onChange={handleChange} value={loginData.password}\r\n                           placeholder=\"Пароль\" type=\"password\" className=\"login__input\"/>\r\n                    <button type=\"submit\" className=\"login__submit\">Войти</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React from 'react'\r\nimport {useState} from 'react'\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport default function Register({onRegister}) {\r\n\r\n    const [data, setData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setData({\r\n            ...data,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        onRegister(data);\r\n    };\r\n\r\n    return (\r\n        <section className=\"register\">\r\n            <h1 className=\"register__title\">Регистрация</h1>\r\n            <div className=\"register__container\">\r\n                <form className=\"register__form\" onSubmit={handleSubmit} name=\"register-form\">\r\n                    <input className=\"register__input\" value={data.email} id=\"email\" onChange={handleChange}\r\n                           name=\"email\" placeholder=\"Email\" type=\"email\"/>\r\n                    <input className=\"register__input\" id=\"password\" value={data.password} onChange={handleChange}\r\n                           name=\"password\" placeholder=\"Пароль\" type=\"password\"/>\r\n                    <button className=\"register__submit\" type=\"submit\">Зарегистрироваться</button>\r\n                </form>\r\n                <h2 className=\"register__subtitle\">Уже зарегистрированы? <Link to='/sign-in'\r\n                    className=\"register__subtitle_underline\">Войти</Link></h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute(props) {\r\n    return (     // Пытался сделалать через component: Component , но у меня находятся в children 2 компонента (Header и Main)\r\n        <Route>\r\n            {\r\n                props.isLoggedIn ? props.children : <Redirect to=\"/sign-in\"/>\r\n            }\r\n        </Route>\r\n    );\r\n}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/failed.d0f413bf.svg\";","import React from 'react'\r\nimport success from '../images/success.svg'\r\nimport failed from '../images/failed.svg'\r\n\r\nexport default function InfoToolTipPopup(props) {\r\n    let activePopup = '';\r\n    if (props.isOpen) {\r\n        activePopup = 'popup_active'\r\n    } else {\r\n        activePopup = ''\r\n    }\r\n    return (\r\n        <section className={`popup ${activePopup}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__exit-btn\" onClick={props.onClose} type=\"button\"/>\r\n                <img src={props.isRegistered ? success : failed} className=\"popup__status-icon\"\r\n                     alt=\"Статус регистрации\"/>\r\n                <h2 className=\"popup__status-title\">{props.isRegistered ?\r\n                    \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}","export const BASE_URL = 'https://auth.nomoreparties.co'\r\n\r\nfunction parseResponse(res) {\r\n    if (res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Произошла ошибка со статус-кодом ${res.status}`));\r\n}\r\n\r\n\r\nexport const register = (data) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            password: data.password,\r\n            email: data.email\r\n\r\n        }),\r\n    })\r\n        .then(res => parseResponse(res));\r\n};\r\nexport const authorize = (data) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            password: data.password,\r\n            email: data.email\r\n        })\r\n    }).then(res => parseResponse(res))\r\n\r\n}\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(res => parseResponse(res))\r\n        .then(data => data)\r\n}\r\n\r\n","import React from 'react'\r\nimport Header from \"./Header.js\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport {useState, useEffect} from 'react'\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport {Switch, Route, useHistory} from 'react-router-dom'\r\nimport api from \"../utils/api\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoToolTipPopup from \"./InfoToolTipPopup\";\r\nimport * as auth from '../utils/auth'\r\n\r\nfunction App() {\r\n\r\n    const [cards, setCards] = useState([])\r\n    const [currentUser, setCurrentUser] = useState({})\r\n    const [isEditProfilePopupOpen, setEditProfilePopup] = useState(false)\r\n    const [isEditAvatarPopupOpen, setEditAvatarPopup] = useState(false)\r\n    const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = useState(false)\r\n    const [isAddPlacePopupOpen, setAddPlacePopup] = useState(false)\r\n    const [selectedCard, setSelectedCard] = useState(null)\r\n    const [isRegistered, setIsRegistered] = React.useState(false);\r\n    const [isLoggedIn, setIsLoggedIn] = React.useState(false);\r\n    const [userInfo, setUserInfo] = React.useState({});\r\n    const closeAllPopups = () => {\r\n        setEditProfilePopup(false);\r\n        setEditAvatarPopup(false);\r\n        setAddPlacePopup(false);\r\n        setSelectedCard(null);\r\n        setIsInfoToolTipPopupOpen(false)\r\n    }\r\n    useEffect(() => {\r\n        handleTokenCheck()\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    const handleTokenCheck = () => {\r\n        if (localStorage.getItem('jwt')) {\r\n            const jwt = localStorage.getItem('jwt')\r\n            if (jwt) {\r\n                auth.getContent(jwt).then((res) => {\r\n                    if (res) {\r\n                        setIsLoggedIn(true)\r\n                        history.push('/')\r\n                    }\r\n                    const email = res.data.email\r\n                    setUserInfo({email})\r\n                }).catch((err) => {\r\n                    console.log('Ошибка при проверки токена', err)\r\n                })\r\n            }\r\n            }\r\n\r\n    }\r\n    const history = useHistory()\r\n\r\n    function handleSignIn(loginData) {\r\n        return auth.authorize(loginData).then((res) => {\r\n            setIsLoggedIn(true)\r\n            history.push('/')\r\n            localStorage.setItem('jwt', res.token);\r\n            setUserInfo({\r\n                email: loginData.email\r\n            })\r\n        }).catch((err) => {\r\n            console.log('Произошла ошибка при авторизации', err)\r\n        })\r\n    }\r\n\r\n    function handleRegister(data) {\r\n        return auth.register(data).then((res) => {\r\n            if (res) {\r\n                history.push('/sign-in')\r\n                setIsRegistered(true)\r\n                setIsInfoToolTipPopupOpen(true)\r\n            }\r\n        }).catch((err) => {\r\n            console.log('Ошибка при регистрации', err)\r\n            setIsInfoToolTipPopupOpen(true)\r\n            setIsRegistered(false)\r\n        })\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setSelectedCard(card)\r\n    }\r\n\r\n    function handleEditAvatarClick() {\r\n        setEditAvatarPopup(!isEditAvatarPopupOpen)\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setEditProfilePopup(!isEditProfilePopupOpen)\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setAddPlacePopup(!isAddPlacePopupOpen)\r\n    }\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n        if (!isLiked) {\r\n            api.likeCard(card._id).then((newCard) => {\r\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n            }).catch((err) => {\r\n                console.log('Ошибка при загрузки данных', err)\r\n            });\r\n        } else {\r\n            api.likeCardDelete(card._id).then((newCard) => {\r\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n            }).catch((err) => {\r\n                console.log('Ошибка при загрузки данных', err)\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    function handleCardDelete(card) {\r\n        api.deleteCard(card._id)\r\n            .then(() => {\r\n                setCards((cards) => cards\r\n                    .filter(item => item._id !== card._id))\r\n            }).catch((err) => {\r\n            console.log('Ошибка при удаление карточки', err)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        api.getUser()\r\n            .then((res) => {\r\n                setCurrentUser(res)\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log('Ошибка при получении данных', err)\r\n            })\r\n    }, [])\r\n    useEffect(() => {\r\n        api.getCards()\r\n            .then((res) => {\r\n                setCards(res)\r\n            })\r\n            .catch(err => {\r\n                console.log('Ошибка при получении данных', err)\r\n            })\r\n    }, [])\r\n\r\n    function handleUpdateUser(e) {\r\n        api.sendProfile(e)\r\n            .then((userData) => {\r\n                setCurrentUser(userData)\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log('Ошибка при загрузки данных', err)\r\n            })\r\n    }\r\n\r\n    function handleUpdateUserAvatar(data) {\r\n        api.changeAvatar(data).then((res) => {\r\n            setCurrentUser(res)\r\n            closeAllPopups()\r\n        }).catch((err) => {\r\n            console.log('Ошибка при загрузки данных', err)\r\n        })\r\n\r\n\r\n    }\r\n\r\n    function handleAddPlaceSubmit(cardData) {\r\n        api.sendCard(cardData).then((res) => {\r\n            setCards([res, ...cards])\r\n            closeAllPopups()\r\n        }).catch((err) => {\r\n            console.log('Ошибка при загрузки карточки', err)\r\n        })\r\n    }\r\n\r\n    function handleSignOut() {\r\n        localStorage.removeItem('jwt')\r\n        setIsLoggedIn(false)\r\n    }\r\n    return (\r\n        <div className=\"app\">\r\n            <CurrentUserContext.Provider value={currentUser}>\r\n\r\n                <Switch>\r\n\r\n                    <Route path=\"/sign-in\">\r\n                        <Header redirect=\"/sign-up\"\r\n                                isLoggedIn={isLoggedIn}\r\n                                text=\"Регистрация\"/>\r\n                        <Login onLogin={handleSignIn}/>\r\n                    </Route>\r\n                    <Route path=\"/sign-up\">\r\n                        <Header redirect=\"/sign-in\"\r\n                                isLoggedIn={isLoggedIn}\r\n                                text=\"Войти\"/>\r\n                        <Register onRegister={handleRegister}/>\r\n                    </Route>\r\n                    <ProtectedRoute\r\n                                    isLoggedIn={isLoggedIn}\r\n                                    path=\"/\">\r\n                        <Header redirect=\"/\"\r\n                                isLoggedIn={isLoggedIn}\r\n                                text=\"Выйти\"\r\n                                onRedirect={handleSignOut}\r\n                                userInfo={userInfo}\r\n                        />\r\n                        <Main onDeleteCard={handleCardDelete}\r\n                              onCardLike={handleCardLike}\r\n                              cards={cards}\r\n                              onCardClick={handleCardClick} onEditAvatar={handleEditAvatarClick}\r\n                              onEditProfile={handleEditProfileClick}\r\n                              onAddPlace={handleAddPlaceClick}/>\r\n                    </ProtectedRoute>\r\n                </Switch>\r\n                <Footer/>\r\n\r\n\r\n                <EditProfilePopup onUpdateUser={handleUpdateUser} onClose={closeAllPopups}\r\n                                  isOpen={isEditProfilePopupOpen}/>\r\n                <EditAvatarPopup onUpdateAvatar={handleUpdateUserAvatar} onClose={closeAllPopups}\r\n                                 isOpen={isEditAvatarPopupOpen}/>\r\n                <AddPlacePopup onAddPlace={handleAddPlaceSubmit} onClose={closeAllPopups} isOpen={isAddPlacePopupOpen}/>\r\n\r\n\r\n                <ImagePopup card={selectedCard} close={closeAllPopups}/>\r\n                <InfoToolTipPopup onClose={closeAllPopups} isRegistered={isRegistered} isOpen={isInfoToolTipPopupOpen}/>\r\n            </CurrentUserContext.Provider>\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n    <App />\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}